---
title: "いよいよ読み込み時間が限界"
date: 2025-06-03
layout: post
---

棋譜数が増えて、いよいよ読み込み時間が長すぎ問題が無視できなくなってきた。

起動後バックグラウンドで毎フレーム１棋譜読み込んでるけど、読み込み中は３０FPSにしてるから、

２３０００棋譜/ 30 / 60 == 12.77777 （分）

起動後１３分待たないと読み込みが終わらん。焼け石に水とはこのことか。

起動後すぐに検索した場合、読み込みだけのループで１２０秒ぐらいかかる。（検索は４秒未満）

読み込み終えてから検索という路線はもう捨てるしかなさそうだ。

読み込みと検索をセットにして、　逐次リストに反映させる形に移行する時が来たようだ。

以下構想。()内は仮の妄想。

処理単位を何棋譜にすればいいか？

（２０棋譜単位ぐらいでよくね？）

自動的に何秒ぐらいで中断するか？

（５秒くらい？５秒でも長い気がするけど。。）
（１０棋譜見つかってたら十分な気がする！、１０棋譜見つかったら即中断させるか？？？）

何棋譜見つかっていなかったら延長するか？また、それは何秒延長するのか？　
　
（５棋譜以下で延長３秒とか？）
（逆に２棋譜以下は見つかりそうにないから中断でいいかも？）

中断後「もっと検索」ボタンと「全部検索」ボタンを用意する。

（もっと検索ボタンに関しては押すたびに処理単位を倍々にするのはどうか？）
